(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-118215a6"],{"13d5":function(e,t,a){"use strict";var o=a("23e7"),r=a("d58f").left,c=a("a640"),l=a("2d00"),i=a("605d"),s=!i&&l>79&&l<83,n=s||!c("reduce");o({target:"Array",proto:!0,forced:n},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},"14d9":function(e,t,a){"use strict";var o=a("23e7"),r=a("7b0b"),c=a("07fa"),l=a("3a34"),i=a("3511"),s=a("d039"),n=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),d=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},h=n||!d();o({target:"Array",proto:!0,arity:1,forced:h},{push:function(e){var t=r(this),a=c(t),o=arguments.length;i(a+o);for(var s=0;s<o;s++)t[a]=arguments[s],a++;return l(t,a),a}})},"48dc":function(e,t,a){},"605d":function(e,t,a){(function(t){var o=a("c6b6");e.exports="undefined"!=typeof t&&"process"==o(t)}).call(this,a("4362"))},"9db5":function(e,t,a){"use strict";a.r(t);var o=a("7a23");const r=e=>(Object(o["pushScopeId"])("data-v-1a267c64"),e=e(),Object(o["popScopeId"])(),e),c={class:"container-Box"},l={class:"mainbox"},i={class:"left",id:"table"},s={key:0,class:"fail"},n={key:1,class:"pass"},d={id:"table"},h=r(()=>Object(o["createElementVNode"])("div",{class:"chartsHead"},[Object(o["createElementVNode"])("div",{class:"item total"},[Object(o["createElementVNode"])("div",{class:"number"},Object(o["toDisplayString"])(798)),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",{class:"numberCircle"},"Total production"),Object(o["createElementVNode"])("div",null,"生产总数")])]),Object(o["createElementVNode"])("div",{class:"item PiepassNo"},[Object(o["createElementVNode"])("div",{class:"number"},Object(o["toDisplayString"])(694)),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",{class:"numberCircle"},"Qualified quantity"),Object(o["createElementVNode"])("div",null,"合格数量")])])],-1)),b={ref:"echartPieleRef1",class:"echarts"},p={ref:"echartTableRef",class:"echarts"};function f(e,t,a,r,f,u){const m=Object(o["resolveComponent"])("el-table-column"),O=Object(o["resolveComponent"])("el-table"),j=Object(o["resolveComponent"])("el-col"),g=Object(o["resolveComponent"])("el-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("section",l,[Object(o["createVNode"])(g,{class:"oneLine"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{span:12},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(O,{data:f.tableData},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{type:"index",index:u.indexMethod,align:"center"},null,8,["index"]),Object(o["createVNode"])(m,{prop:"Model",label:"机器条码",align:"center"}),Object(o["createVNode"])(m,{prop:"ModelID",label:"机器型号",align:"center"}),Object(o["createVNode"])(m,{prop:"Date",label:"时间",formatter:u.formatter,align:"center"},null,8,["formatter"]),Object(o["createVNode"])(m,{prop:"Status",label:"是否合格",align:"center"},{default:Object(o["withCtx"])(e=>[1==e.row.Status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",s,"不合格")):Object(o["createCommentVNode"])("",!0),0==e.row.Status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",n,"合格")):Object(o["createCommentVNode"])("",!0)]),_:1})]),_:1},8,["data"])])]),_:1}),Object(o["createVNode"])(j,{span:12,class:"right"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(g,{class:"RightBox"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",d,[Object(o["createVNode"])(O,{data:f.listRightTopdata},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{prop:"Caption",label:"",align:"center"}),Object(o["createVNode"])(m,{prop:"value1",label:"一次性合格率",align:"center"}),Object(o["createVNode"])(m,{prop:"value2",label:"返修合格率",align:"center"})]),_:1},8,["data"])])]),_:1})]),_:1}),Object(o["createVNode"])(g,{class:"RightBox chartsRow"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{span:10,class:"listCharts"},{default:Object(o["withCtx"])(()=>[h,Object(o["createElementVNode"])("div",b,null,512)]),_:1}),Object(o["createVNode"])(j,{span:14},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",p,null,512)]),_:1})]),_:1})]),_:1})]),_:1})])])}a("13d5"),a("14d9");var u=a("1b67"),m={name:"",props:{searchDate:{type:String}},components:{},data(){return{tableData:[],listRightTopdata:[],listRightBottomdata:[],dateArr:[],productNo:[],passNo:[],productNoTotal:0,passNoTotal:0,passRate:""}},created(){let e=this.searchDate?this.searchDate:new Date;this.getTable(e)},methods:{async getTable(e){console.log(e);const{Data:t}=await u.getTable05;this.tableData=t.Part1Objects,this.listRightTopdata=this.changeToElTableData(t.Part2Objects),this.listRightBottomdata=this.changeToElTableData(t.Part3Objects),this.dateArr=this.listRightBottomdata.map(e=>e.Caption.slice(5)),this.productNo=this.listRightBottomdata.map(e=>e.value1),this.passNo=this.listRightBottomdata.map(e=>e.value2),this.productNoTotal=this.productNo.reduce((e,t)=>e+t,0),this.passNoTotal=this.passNo.reduce((e,t)=>e+t,0),this.passRate=(this.passNoTotal/this.productNoTotal*100).toFixed(0),this.getChartsOption();let a={rate:this.passRate,surplus:100-this.passRate,name:"合格数量"};this.getPieOption(a)},indexMethod(e){return e+1+"#"},getChartsOption(){let e={tooltip:{},grid:{left:"0%",right:"1%",bottom:"5%",top:"15%",containLabel:!0},xAxis:{data:this.dateArr,axisTick:{show:!1},axisLine:{lineStyle:{color:"#7e8c97"}},axisLabel:{color:"#fff"}},legend:{textStyle:{color:"#fff"},data:[{name:"生产数量",itemStyle:{color:"#307cd0"}},{name:"合格数量",itemStyle:{color:"#26d1ad"}}]},yAxis:{splitLine:{show:!0,lineStyle:{type:"dashed",color:"#7e8c97"}},axisLine:{lineStyle:{type:"dashed",color:"#fff"}}},series:[{name:"生产数量",type:"bar",data:this.productNo,itemStyle:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#307cd0"},{offset:.5,color:"#2667a6"},{offset:1,color:"#123148"}])}},{name:"合格数量",type:"bar",data:this.passNo,itemStyle:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#26d1ad"},{offset:.5,color:"#20a18d"},{offset:1,color:"#123148"}])}}]};this.getChartTable("echartTableRef",e)},getPieOption(e,t="#3bdfbc"){let a={series:[{name:e.rate,type:"pie",radius:["50%","60%"],hoverAnimation:!0,avoidLabelOverlap:!1,label:{show:!0,position:"center",fontSize:20,color:"#fff",fontWeight:"bold",formatter:"{c}%"},emphasis:{label:{show:!0,fontSize:20,color:"#fff",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:this.passRate,name:"合格数量",itemStyle:{color:t}},{value:100-this.passRate,name:"剩余",itemStyle:{color:"#74869b"},emphasis:{disabled:!0,color:"#74869b"}}]}]};this.getChartTable("echartPieleRef1",a)},getChartTable(e,t){this.$nextTick(()=>{if(this.$refs[e]){const a=this.$echarts.init(this.$refs[e]);a.clear(),a.setOption(t),window.addEventListener("resize",()=>{a.resize()})}})},formatter(e){return this.getTime(e.Date)},getTime(e){var t=new Date(e),a=t.getFullYear(),o=t.getMonth()+1,r=t.getDate();return a+"-"+this.fillZero(o)+"-"+this.fillZero(r)},fillZero(e){var t;return t=e<10?"0"+e:e,t},changeToElTableData(e){let t=[];for(let a=0;a<e[0].Members.length;a++){let o=e[0].Members[a].Caption,r={Caption:o};for(let t=0;t<e.length;t++){let o=e[t].Members[a].Value;r["value"+(t+1)]=o}t.push(r)}return t}},mounted(){},watch:{},computed:{},filters:{}},O=(a("f24c"),a("6b0d")),j=a.n(O);const g=j()(m,[["render",f],["__scopeId","data-v-1a267c64"]]);t["default"]=g},a640:function(e,t,a){"use strict";var o=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&o((function(){a.call(null,t||function(){return 1},1)}))}},d58f:function(e,t,a){var o=a("59ed"),r=a("7b0b"),c=a("44ad"),l=a("07fa"),i=TypeError,s=function(e){return function(t,a,s,n){o(a);var d=r(t),h=c(d),b=l(d),p=e?b-1:0,f=e?-1:1;if(s<2)while(1){if(p in h){n=h[p],p+=f;break}if(p+=f,e?p<0:b<=p)throw i("Reduce of empty array with no initial value")}for(;e?p>=0:b>p;p+=f)p in h&&(n=a(n,h[p],p,d));return n}};e.exports={left:s(!1),right:s(!0)}},f24c:function(e,t,a){"use strict";a("48dc")}}]);
//# sourceMappingURL=chunk-118215a6.5f113310.js.map