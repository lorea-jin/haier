(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2960aa76"],{"13d5":function(e,t,a){"use strict";var c=a("23e7"),l=a("d58f").left,r=a("a640"),o=a("2d00"),i=a("605d"),n=!i&&o>79&&o<83,s=n||!r("reduce");c({target:"Array",proto:!0,forced:s},{reduce:function(e){var t=arguments.length;return l(this,e,t,t>1?arguments[1]:void 0)}})},"14d9":function(e,t,a){"use strict";var c=a("23e7"),l=a("7b0b"),r=a("07fa"),o=a("3a34"),i=a("3511"),n=a("d039"),s=n((function(){return 4294967297!==[].push.call({length:4294967296},1)})),d=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},b=s||!d();c({target:"Array",proto:!0,arity:1,forced:b},{push:function(e){var t=l(this),a=r(t),c=arguments.length;i(a+c);for(var n=0;n<c;n++)t[a]=arguments[n],a++;return o(t,a),a}})},"49dc":function(e,t,a){"use strict";a("81c4")},"605d":function(e,t,a){(function(t){var c=a("c6b6");e.exports="undefined"!=typeof t&&"process"==c(t)}).call(this,a("4362"))},"81c4":function(e,t,a){},a640:function(e,t,a){"use strict";var c=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&c((function(){a.call(null,t||function(){return 1},1)}))}},b970:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const l=e=>(Object(c["pushScopeId"])("data-v-bb39c434"),e=e(),Object(c["popScopeId"])(),e),r={class:"container-Box"},o={class:"mainbox"},i={class:"left"},n={id:"table"},s=l(()=>Object(c["createElementVNode"])("i",{class:"square"},null,-1)),d={class:"modelId"},b=l(()=>Object(c["createElementVNode"])("i",{class:"squareLine"},null,-1)),h={class:"modelId"},p={ref:"echartTableRef",class:"echarts"},u=l(()=>Object(c["createElementVNode"])("br",null,null,-1)),O={ref:"echartPieRef1",class:"echarts"},f=l(()=>Object(c["createElementVNode"])("br",null,null,-1)),m={ref:"echartPieRef2",class:"echarts"},j=l(()=>Object(c["createElementVNode"])("br",null,null,-1)),N={ref:"echartPieRef3",class:"echarts"},V={class:"bottom"},E=l(()=>Object(c["createElementVNode"])("div",{class:"title"},[Object(c["createTextVNode"])(" 工 "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" 单 "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" 总 "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" 体 "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" 合 "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" 格 "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" 率 ")],-1)),g={class:"circleLine"},T={class:"pieChartsItem"},v={ref:"echartPieRef4",class:"echarts",id:"echartPieRef4"},y=l(()=>Object(c["createElementVNode"])("h2",null,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("氦气合格率")),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("HELIUM"))],-1)),R={class:"pieChartsItem"},x={ref:"echartPieRef5",class:"echarts",id:"echartPieRef5"},w=l(()=>Object(c["createElementVNode"])("h2",null,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("氦气合格率")),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("HELIUM"))],-1)),C={class:"pieChartsItem"},S={ref:"echartPieRef6",class:"echarts",id:"echartPieRef6"},P=l(()=>Object(c["createElementVNode"])("h2",null,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("注氟合格率")),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("FLUORINE"))],-1)),D={class:"pieChartsItem"},I={ref:"echartPieRef7",class:"echarts",id:"echartPieRef7"},L=l(()=>Object(c["createElementVNode"])("h2",null,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("安全性能检测合格率")),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("SAFETY"))],-1)),_={class:"pieChartsItem"},A={ref:"echartPieRef8",class:"echarts",id:"echartPieRef8"},F=l(()=>Object(c["createElementVNode"])("h2",null,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("运转")),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("REVOLVE"))],-1)),M={class:"pieChartsItem"},B={ref:"echartPieRef9",class:"echarts",id:"echartPieRef9"},k=l(()=>Object(c["createElementVNode"])("h2",null,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("下线")),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])("OFF-LINE"))],-1));function U(e,t,a,l,U,$){const z=Object(c["resolveComponent"])("el-table-column"),H=Object(c["resolveComponent"])("el-table"),G=Object(c["resolveComponent"])("el-col"),q=Object(c["resolveComponent"])("el-row");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,[Object(c["createElementVNode"])("section",o,[Object(c["createVNode"])(q,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(G,{span:9},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",n,[Object(c["createVNode"])(H,{data:U.tableData},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(z,{prop:"ModelID",align:"center"},{default:Object(c["withCtx"])(e=>[s,Object(c["createElementVNode"])("span",d,"型号: "+Object(c["toDisplayString"])(e.row.ModelID),1)]),_:1}),Object(c["createVNode"])(z,{prop:"Param1",align:"center"},{default:Object(c["withCtx"])(e=>[b,Object(c["createElementVNode"])("span",h,"型号: "+Object(c["toDisplayString"])(e.row.Param1),1)]),_:1})]),_:1},8,["data"])])])]),_:1}),Object(c["createVNode"])(G,{span:15},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(q,{class:"right"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(G,{span:18},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",p,null,512)]),_:1}),Object(c["createVNode"])(G,{span:6,class:"listCharts"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(q,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("h3",null,[Object(c["createTextVNode"])(" 生产数量 "),u,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(this.productNoTotal),1),Object(c["createTextVNode"])("  个 ")]),Object(c["createElementVNode"])("div",O,null,512)]),_:1}),Object(c["createVNode"])(q,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("h3",null,[Object(c["createTextVNode"])(" 合格数量 "),f,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(this.passNoTotal),1),Object(c["createTextVNode"])("  个 ")]),Object(c["createElementVNode"])("div",m,null,512)]),_:1}),Object(c["createVNode"])(q,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("h3",null,[Object(c["createTextVNode"])(" 未合格数量 "),j,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(this.failNoTotal),1),Object(c["createTextVNode"])("  个 ")]),Object(c["createElementVNode"])("div",N,null,512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(q,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(G,{span:24},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",V,[E,Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",T,[Object(c["createElementVNode"])("div",v,null,512),y]),Object(c["createElementVNode"])("div",R,[Object(c["createElementVNode"])("div",x,null,512),w]),Object(c["createElementVNode"])("div",C,[Object(c["createElementVNode"])("div",S,null,512),P]),Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("div",I,null,512),L]),Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("div",A,null,512),F]),Object(c["createElementVNode"])("div",M,[Object(c["createElementVNode"])("div",B,null,512),k])])])]),_:1})]),_:1})])])}a("13d5"),a("14d9");var $=a("1b67"),z={name:"",props:{searchDate:{type:String}},components:{},data(){return{tableData:[],listRightTopdata:[],listRightBottomdata:[],dateArr:[],productNo:[],passNo:[],productNoTotal:0,passNoTotal:0,passRate:"",failNoTotal:0,failRate:"",pieChartsArr:[{id:4,cname:"氦气合格率",ename:"HELIUM",color:"#3788e1"},{id:5,cname:"抽真空合格率",ename:"VACUUM",color:"#51eac7"},{id:6,cname:"注氟合格率",ename:"FLUORINE",color:"#3788e1"},{id:7,cname:"安全性能检测合格率",ename:"SAFETY",color:"#51eac7"},{id:8,cname:"运转",ename:"REVOLVE",color:"#3788e1"},{id:9,cname:"下线",ename:"OFF-LINE",color:"#f64b4a"}]}},created(){let e=this.searchDate?this.searchDate:new Date;this.getTable(e)},methods:{async getTable(e){console.log(e);const{Data:t}=await $.getTable07;this.tableData=t.Part1Objects,this.listRightTopdata=this.changeToElTableData(t.Part2Objects),this.listRightBottomdata=t.Part3Object,this.pieChartsArr=this.pieChartsArr.map(e=>({...e,pie:{rate:100*this.listRightBottomdata["Param"+(e.id-3)],surplus:100-100*this.listRightBottomdata["Param"+(e.id-3)],name:"HE-52315\nOG32154015\n合格"}})),this.dateArr=this.listRightTopdata.map(e=>e.Caption.slice(5)),this.productNo=this.listRightTopdata.map(e=>e.value1),this.passNo=this.listRightTopdata.map(e=>e.value2),this.productNoTotal=this.productNo.reduce((e,t)=>e+t,0),this.passNoTotal=this.passNo.reduce((e,t)=>e+t,0),this.passRate=(this.passNoTotal/this.productNoTotal*100).toFixed(0),this.failNoTotal=this.productNoTotal-this.passNoTotal,this.failRate=(this.failNoTotal/this.productNoTotal*100).toFixed(0),this.getChartsOption();let a={rate:this.productNoTotal/this.productNoTotal*100,surplus:0,name:"生产数量"},c={rate:this.passRate,surplus:100-this.passRate,name:"合格数量"},l={rate:100-this.passRate,surplus:100-1*this.failRate,name:"未合格数量"};this.getPieOption("echartPieRef1",a,"#80bbff","rate"),this.getPieOption("echartPieRef2",c,"#26d1ad","rate"),this.getPieOption("echartPieRef3",l,"#f64b4a","rate"),this.pieChartsArr.map(e=>{this.getPieOption("echartPieRef"+e.id,e.pie,e.color,"name")})},indexMethod(e){return e+"#"},getChartsOption(){let e={tooltip:{},grid:{left:"0%",right:"5%",bottom:"5%",top:"15%",containLabel:!0},xAxis:{data:this.dateArr,axisTick:{show:!1},axisLine:{lineStyle:{color:"#7e8c97"}},axisLabel:{color:"#fff"}},legend:{textStyle:{color:"#fff"},data:[{name:"生产数量",icon:"roundRect",itemStyle:{color:"#307cd0"}},{name:"合格数量",icon:"roundRect",itemStyle:{color:"#26d1ad"}}]},yAxis:{splitLine:{show:!0,lineStyle:{type:"dashed",color:"#7e8c97"}},axisLine:{lineStyle:{type:"dashed",color:"#fff"}}},series:[{name:"生产数量",type:"bar",data:this.productNo,itemStyle:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#307cd0"},{offset:.5,color:"#2667a6"},{offset:1,color:"#123148"}])}},{name:"合格数量",type:"bar",data:this.passNo,itemStyle:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#26d1ad"},{offset:.5,color:"#20a18d"},{offset:1,color:"#123148"}])}}]};this.getChartTable("echartTableRef",e)},getPieOption(e,t,a="#80bbff",c="rate"){let l={series:[{name:t[c],type:"pie",radius:["65%","75%"],hoverAnimation:!0,avoidLabelOverlap:!1,label:{show:!0,position:"center",fontSize:15,color:"#fff",fontWeight:"bold",formatter:"rate"==c?"{a}%":"{a}"},emphasis:{label:{show:!0,fontSize:15,color:"#fff",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:t.rate,name:t.name,itemStyle:{color:a}},{value:t.surplus,itemStyle:{color:"#f1f1f1"},emphasis:{disabled:!0,color:"#f1f1f1"}}]}]};this.getChartTable(e,l)},getChartTable(e,t){this.$nextTick(()=>{if(this.$refs[e]||document.getElementById(e)){const a=this.$echarts.init(this.$refs[e]||document.getElementById(e));a.clear(),a.setOption(t),window.addEventListener("resize",()=>{a.resize()})}})},changeToElTableData(e){let t=[];for(let a=0;a<e[0].Members.length;a++){let c=e[0].Members[a].Caption,l={Caption:c};for(let t=0;t<e.length;t++){let c=e[t].Members[a].Value;l["value"+(t+1)]=c}t.push(l)}return t}},mounted(){},watch:{},computed:{},filters:{}},H=(a("49dc"),a("6b0d")),G=a.n(H);const q=G()(z,[["render",U],["__scopeId","data-v-bb39c434"]]);t["default"]=q},d58f:function(e,t,a){var c=a("59ed"),l=a("7b0b"),r=a("44ad"),o=a("07fa"),i=TypeError,n=function(e){return function(t,a,n,s){c(a);var d=l(t),b=r(d),h=o(d),p=e?h-1:0,u=e?-1:1;if(n<2)while(1){if(p in b){s=b[p],p+=u;break}if(p+=u,e?p<0:h<=p)throw i("Reduce of empty array with no initial value")}for(;e?p>=0:h>p;p+=u)p in b&&(s=a(s,b[p],p,d));return s}};e.exports={left:n(!1),right:n(!0)}}}]);
//# sourceMappingURL=chunk-2960aa76.5dd8ea1d.js.map