(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-537f86a0"],{"13d5":function(e,t,a){"use strict";var o=a("23e7"),r=a("d58f").left,l=a("a640"),i=a("2d00"),s=a("605d"),c=!s&&i>79&&i<83,n=c||!l("reduce");o({target:"Array",proto:!0,forced:n},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},"14d9":function(e,t,a){"use strict";var o=a("23e7"),r=a("7b0b"),l=a("07fa"),i=a("3a34"),s=a("3511"),c=a("d039"),n=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),d=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},h=n||!d();o({target:"Array",proto:!0,arity:1,forced:h},{push:function(e){var t=r(this),a=l(t),o=arguments.length;s(a+o);for(var c=0;c<o;c++)t[a]=arguments[c],a++;return i(t,a),a}})},"536a":function(e,t,a){"use strict";a.r(t);var o=a("7a23");const r=e=>(Object(o["pushScopeId"])("data-v-512b7bd9"),e=e(),Object(o["popScopeId"])(),e),l={class:"container-Box"},i={class:"mainbox"},s={class:"left",id:"table"},c={class:"leftContent Content"},n={id:"table1",ref:"table1"},d={id:"table"},h=r(()=>Object(o["createElementVNode"])("div",{class:"chartsHead"},[Object(o["createElementVNode"])("div",{class:"item total"},[Object(o["createElementVNode"])("div",{class:"number"},Object(o["toDisplayString"])(798)),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",{class:"numberCircle"},"Total production"),Object(o["createElementVNode"])("div",null,"生产总数")])]),Object(o["createElementVNode"])("div",{class:"item PiepassNo"},[Object(o["createElementVNode"])("div",{class:"number"},Object(o["toDisplayString"])(694)),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",{class:"numberCircle"},"Qualified quantity"),Object(o["createElementVNode"])("div",null,"合格数量")])])],-1)),b={ref:"echartPieleRef1",class:"echarts"},f={ref:"echartTableRef",class:"echarts"};function p(e,t,a,r,p,u){const m=Object(o["resolveComponent"])("el-col"),O=Object(o["resolveComponent"])("el-table-column"),g=Object(o["resolveComponent"])("el-table"),j=Object(o["resolveComponent"])("el-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createElementVNode"])("section",i,[Object(o["createVNode"])(j,{class:"oneLine"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{span:12},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("table",n,null,512)])])]),_:1}),Object(o["createVNode"])(m,{span:12,class:"right"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{class:"RightBox"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",d,[Object(o["createVNode"])(g,{data:p.listRightTopdata},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(O,{prop:"Caption",label:"",align:"center"}),Object(o["createVNode"])(O,{prop:"value1",label:"一次性合格率",align:"center"}),Object(o["createVNode"])(O,{prop:"value2",label:"返修合格率",align:"center"})]),_:1},8,["data"])])]),_:1})]),_:1}),Object(o["createVNode"])(j,{class:"RightBox chartsRow"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{span:10,class:"listCharts"},{default:Object(o["withCtx"])(()=>[h,Object(o["createElementVNode"])("div",b,null,512)]),_:1}),Object(o["createVNode"])(m,{span:14},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",f,null,512)]),_:1})]),_:1})]),_:1})]),_:1})])])}a("13d5"),a("14d9");var u=a("1b67");const m={Series:"",Model:"产品型号",ModelID:"机编",Param1:"接地",Param2:"绝缘",Param3:"耐压",Param4:"泄漏",Param5:"判定结果",Param6:"人工扫描合格率"};var O={name:"index06",props:{searchDate:{type:String}},components:{},data(){return{tableData:[],listRightTopdata:[],listRightBottomdata:[],dateArr:[],productNo:[],passNo:[],productNoTotal:0,passNoTotal:0,passRate:""}},created(){let e=this.searchDate?this.searchDate:new Date;this.getTable(e)},methods:{async getTable(e){console.log(e);const{Data:t}=await u.getTable06;this.tableData=t.Part1Objects,this.listRightTopdata=this.changeToElTableData(t.Part2Objects),this.listRightBottomdata=this.changeToElTableData(t.Part3Objects),this.tableData=[m,...this.tableData],this.generateTable(this.$refs.table1,this.tableData),this.generateTableHead(this.$refs.table1,this.tableData),this.dateArr=this.listRightBottomdata.map(e=>e.Caption.slice(5)),this.productNo=this.listRightBottomdata.map(e=>e.value1),this.passNo=this.listRightBottomdata.map(e=>e.value2),this.productNoTotal=this.productNo.reduce((e,t)=>e+t,0),this.passNoTotal=this.passNo.reduce((e,t)=>e+t,0),this.passRate=(this.passNoTotal/this.productNoTotal*100).toFixed(0),this.getChartsOption();let a={rate:this.passRate,surplus:100-this.passRate,name:"合格数量"};this.getPieOption(a)},indexMethod(e){return e+1+"#"},getChartsOption(){let e={tooltip:{},grid:{left:"0%",right:"1%",bottom:"5%",top:"15%",containLabel:!0},xAxis:{data:this.dateArr,axisTick:{show:!1},axisLine:{lineStyle:{color:"#7e8c97"}},axisLabel:{color:"#fff"}},legend:{textStyle:{color:"#fff"},data:[{name:"生产数量",itemStyle:{color:"#307cd0"}},{name:"合格数量",itemStyle:{color:"#26d1ad"}}]},yAxis:{splitLine:{show:!0,lineStyle:{type:"dashed",color:"#7e8c97"}},axisLine:{lineStyle:{type:"dashed",color:"#fff"}}},series:[{name:"生产数量",type:"bar",data:this.productNo,itemStyle:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#307cd0"},{offset:.5,color:"#2667a6"},{offset:1,color:"#123148"}])}},{name:"合格数量",type:"bar",data:this.passNo,itemStyle:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#26d1ad"},{offset:.5,color:"#20a18d"},{offset:1,color:"#123148"}])}}]};this.getChartTable("echartTableRef",e)},getPieOption(e,t="#3bdfbc"){let a={series:[{name:e.rate,type:"pie",radius:["50%","60%"],hoverAnimation:!0,avoidLabelOverlap:!1,label:{show:!0,position:"center",fontSize:20,color:"#fff",fontWeight:"bold",formatter:"{c}%"},emphasis:{label:{show:!0,fontSize:20,color:"#fff",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:this.passRate,name:"合格数量",itemStyle:{color:t}},{value:100-this.passRate,name:"剩余",itemStyle:{color:"#74869b"},emphasis:{disabled:!0,color:"#74869b"}}]}]};this.getChartTable("echartPieleRef1",a)},getChartTable(e,t){this.$nextTick(()=>{if(this.$refs[e]){const a=this.$echarts.init(this.$refs[e]);a.clear(),a.setOption(t),window.onresize=()=>{a.resize()}}})},formatter(e){return this.getTime(e.Date)},getTime(e){var t=new Date(e),a=t.getFullYear(),o=t.getMonth()+1,r=t.getDate();return a+"-"+this.fillZero(o)+"-"+this.fillZero(r)},fillZero(e){var t;return t=e<10?"0"+e:e,t},changeToElTableData(e){let t=[];for(let a=0;a<e[0].Members.length;a++){let o=e[0].Members[a].Caption,r={Caption:o};for(let t=0;t<e.length;t++){let o=e[t].Members[a].Value;r["value"+(t+1)]=o}t.push(r)}return t},generateTable(e,t){for(const a in t[0])if("Series"!==a){let o=e.insertRow();for(const e of t){let t=o.insertCell(),r=document.createTextNode(e[a]);"Param6"==a&&"TRUE"==e[a]?(o.className="result",t.style.color="#00ff1c"):"Param6"==a&&"FALSE"==e[a]&&(o.className="result",t.style.color="#ff0000"),t.appendChild(r)}}},generateTableHead(e,t){let a=e.createTHead(),o=a.insertRow();for(let r of t){let e=document.createElement("th"),t=document.createTextNode(r["Series"]);e.appendChild(t),o.appendChild(e)}}},mounted(){},watch:{},computed:{},filters:{}},g=(a("7e50"),a("6b0d")),j=a.n(g);const v=j()(O,[["render",p],["__scopeId","data-v-512b7bd9"]]);t["default"]=v},"605d":function(e,t,a){(function(t){var o=a("c6b6");e.exports="undefined"!=typeof t&&"process"==o(t)}).call(this,a("4362"))},"7e50":function(e,t,a){"use strict";a("f765")},a640:function(e,t,a){"use strict";var o=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&o((function(){a.call(null,t||function(){return 1},1)}))}},d58f:function(e,t,a){var o=a("59ed"),r=a("7b0b"),l=a("44ad"),i=a("07fa"),s=TypeError,c=function(e){return function(t,a,c,n){o(a);var d=r(t),h=l(d),b=i(d),f=e?b-1:0,p=e?-1:1;if(c<2)while(1){if(f in h){n=h[f],f+=p;break}if(f+=p,e?f<0:b<=f)throw s("Reduce of empty array with no initial value")}for(;e?f>=0:b>f;f+=p)f in h&&(n=a(n,h[f],f,d));return n}};e.exports={left:c(!1),right:c(!0)}},f765:function(e,t,a){}}]);
//# sourceMappingURL=chunk-537f86a0.1325a1ab.js.map